<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lyenliang.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Brian&#39;s Blog">
<meta property="og:url" content="https://lyenliang.github.io/page/2/index.html">
<meta property="og:site_name" content="Brian&#39;s Blog">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brian&#39;s Blog">

<link rel="canonical" href="https://lyenliang.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-TW'
  };
</script>

  <title>Brian's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Brian's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2018/06/16/AWS CLI 切換不同配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/06/16/AWS CLI 切換不同配置/" class="post-title-link" itemprop="url">AWS CLI 切換不同配置</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2018-06-16 14:54:00" itemprop="dateCreated datePublished" datetime="2018-06-16T14:54:00+08:00">2018-06-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>AWS CLI(command line interface) 的使用過程中，可能需要在不同的配置之間做切換，例如從 production 轉換到 development 環境。在 <code>~/.aws/config</code> 與 <code>~/.aws/credentials</code> <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener">設定好</a>後，基本的切換方式包含</p>
<ol>
<li><p>在 AWS CLI 後面加上 <code>--profile user1</code> 即可使用 <code>user1</code> profile。<br>例如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ aws s3 ls --profile user1</span><br><span class="line">2018-06-11 20:45:20 test-bucket</span><br></pre></td></tr></table></figure>
</li>
<li><p>設定 <code>AWS_DEFAULT_PROFILE</code>，例如 <code>export AWS_DEFAULT_PROFILE=user_name</code>。設定好了 AWS CLI 就會使用該帳號。</p>
</li>
</ol>
<p>上述方法切換前，都需要改動 <a href="https://superuser.com/questions/426114/understanding-bashrc-and-bash-profile" target="_blank" rel="noopener">Bash Profile</a>，實在不方便，底下有較便捷的方式:</p>
<ol>
<li><p><strong>使用 alias</strong>:</p>
<p>例如設定 <code>alias aws1=&#39;aws --profile user1&#39;</code> 與 <code>alis aws2=&#39;aws --profile user2&#39;</code>，這樣一來，以後輸入 <code>aws1 s3 ls</code> 就會看到 <code>user1</code> 的 s3 bucket，<code>aws2 s3 ls</code> 會看到 <code>user2</code> 的。</p>
</li>
<li><p><strong>改用 <a href="https://github.com/robbyrussell/oh-my-zsh" target="_blank" rel="noopener">oh-my-zsh</a> 並搭配 <a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins#aws" target="_blank" rel="noopener">AWS plugin</a></strong></p>
<p>裝好後可以用 <code>asp</code> 與 <code>agp</code> 來切換與顯示 AWS CLI 配置。</p>
</li>
</ol>
<p>參考資料: </p>
<ul>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html" target="_blank" rel="noopener">AWS CLI Getting Started</a></li>
<li><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins#aws" target="_blank" rel="noopener">oh-my-zsh plugin#aws</a></li>
<li><a href="https://stackoverflow.com/questions/593334/how-to-use-multiple-aws-accounts-from-the-command-line" target="_blank" rel="noopener">How to use multiple AWS Accounts from the command line?
</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/12/17/node-js-Limiting-the-number-of-parallel-promises/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/17/node-js-Limiting-the-number-of-parallel-promises/" class="post-title-link" itemprop="url">[node.js] Limiting the number of parallel promises</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-12-17 19:56:00" itemprop="dateCreated datePublished" datetime="2017-12-17T19:56:00+08:00">2017-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://bluebirdjs.com/docs/api/promise.all.html" target="_blank" rel="noopener">Promise.all</a> is a useful funciton when you want to wait for more than 1 promise running in parallel to complete. However, sometimes you may want to limit the number of parallel promises. For example, you may wish to limit the number of simultaneous downloads from a website.</p>
<p><a href="https://github.com/charto/cwait" target="_blank" rel="noopener">cwait</a> is a convenient tool which allows you to limit the number of promises running in parallel. </p>
<p>Here I’ll demonstrate how to use <code>cwait</code>. First let’s assume we have a function <code>later</code> that returns a promise which is resolved after a specified timeout. </p>
<pre><code>function later (time, val) {
  console.log(`later is triggered. ${val}`)
  return new Promise((resolve, reject) =&gt; {
    setTimeout(resolve, time, val)
  })
}
</code></pre><p>When we create 10 promises with <code>later</code>, and execute them with <code>Promise.all</code>, it will take about 1 second to finish the execution.</p>
<pre><code>// echoNumberPromiseAll.js

const Promise = require(&apos;bluebird&apos;)

let totalNumber = 10
let timeout = 1000 // 1000 ms
let start, finish

function later (time, val) {
  console.log(`later triggered. ${val}`)
  return new Promise((resolve, reject) =&gt; {
    setTimeout(resolve, time, val)
  })
}

let promises = []
function init () {
  start = new Date()
  for (let i = 0; i &lt; totalNumber; i += 1) {
    promises.push(later(timeout, i))
  }
}

init()

Promise.all(promises)
  .then((result) =&gt; {
    console.log(`All done. result: ${result}`)
    finish = new Date()
    console.log(`Execution time: ${finish - start} ms`)
  })
  .catch(err =&gt; {
    console.error(`error: ${err}`)
  })
</code></pre><p><code>node echoNumberPromiseAll.js</code>‘s execution result:</p>
<pre><code>node echoNumberPromiseAll.js
later triggered. 0
later triggered. 1
later triggered. 2
later triggered. 3
later triggered. 4
later triggered. 5
later triggered. 6
later triggered. 7
later triggered. 8
later triggered. 9
All done. result: 0,1,2,3,4,5,6,7,8,9
Execution time: 1012 ms
</code></pre><p>As you can see from the above output, 10 promises are triggered simultaneously. Because the execution time is about 1 second.</p>
<p>Before we can apply <code>cwait</code>, we have to convert <code>Promise.all</code> to <a href="http://bluebirdjs.com/docs/api/promise.map.html" target="_blank" rel="noopener"><code>Promise.map</code></a> first. </p>
<p>Here’s the converted code:</p>
<pre><code>// echoNumberPromiseMap.js

const Promise = require(&apos;bluebird&apos;)

let totalNumber = 10
let timeout = 1000 // 1000 ms
let start, finish

let numbers = []

function later (time, val) {
  console.log(`later triggered. ${val}`)
  return new Promise((resolve, reject) =&gt; {
    setTimeout(resolve, time, val)
  })
}

function init () {
  start = new Date()
  for (let i = 0; i &lt; totalNumber; i += 1) {
    numbers.push(i)
  }
}

function promiseMap (number) {
  return later(timeout, number)
}

init()

Promise.map(numbers, promiseMap)
  .then((result) =&gt; {
    console.log(`All done. result: ${result}`)
    finish = new Date()
    console.log(`Execution time: ${finish - start} ms`)
  })
  .catch(err =&gt; {
    console.error(`error: ${err}`)
  })
</code></pre><p>Then we will be able to apply <code>cwait</code> to the above code:</p>
<pre><code>// echoNumberCwait.js

const TaskQueue = require(&apos;cwait&apos;).TaskQueue
const Promise = require(&apos;bluebird&apos;)

let queue = new TaskQueue(Promise, 3)

let totalNumber = 10
let timeout = 1000 // 1000 ms
let start, finish

let numbers = []

function later (time, val) {
  console.log(`later triggered. ${val}`)
  return new Promise((resolve, reject) =&gt; {
    setTimeout(resolve, time, val)
  })
}

function init () {
  start = new Date()
  for (let i = 0; i &lt; totalNumber; i += 1) {
    numbers.push(i)
  }
}

function promiseMap (number) {
  return later(timeout, number)
}

init()

Promise.map(numbers, queue.wrap(promiseMap))
  .then((result) =&gt; {
    console.log(`All done. result: ${result}`)
    finish = new Date()
    console.log(`Execution time: ${finish - start}`)
  })
  .catch(err =&gt; {
    console.error(`error: ${err}`)
  })
</code></pre><p>In the example above, we limit the number of parallel promises to 3. Here’s the execution result of <code>node echoNumberCwait.js</code></p>
<pre><code>later triggered. 0
later triggered. 1
later triggered. 2
later triggered. 3
later triggered. 9
later triggered. 8
later triggered. 7
later triggered. 6
later triggered. 5
later triggered. 4
All done. result: 0,1,2,3,4,5,6,7,8,9
Execution time: 4016 ms
</code></pre><p>The program first executes the promises with <code>val</code> equal to 0, 1, and 2. And waits until the 3 promises are completed. Then it executes the promises with <code>val</code> equal to 3, 9, and 8. and wait for them to complete …</p>
<p>So in the end, it takes about 4 seconds to finish the execution. </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/12/09/進化：從孤膽極客到高效團隊/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/09/進化：從孤膽極客到高效團隊/" class="post-title-link" itemprop="url">進化：從孤膽極客到高效團隊</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-12-09 19:47:29" itemprop="dateCreated datePublished" datetime="2017-12-09T19:47:29+08:00">2017-12-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://www.books.com.tw/products/CN11385908" target="_blank" rel="noopener">進化：從孤膽極客到高效團隊</a>是一本談軟體工程師之間如何合作的書，書中提到的心法對於需要團隊合作的工程師非常受用。例如有一章提到在軟體開發過程中，隱藏想法、獨自工作是相當有害，會增加失敗機率，且還會錯失成長機會。</p>
<p>書中舉了自行車設計當例子說明：</p>
<p>假設你是一位自行車設計的愛好者，當你某天想出了一種全新的變速器設計。於是你訂購了零件，躲在車庫花了好幾週打造雛形。當有位同樣是自行車愛好者的鄰居問你在做什麼時，你決定不告訴他，想等到成品完成時再宣布。又過了幾個月，雛型還沒設計完成，因為你遇到了困難，但由於你不和其他人討論這個點子，你也無法向懂機械的朋友尋求意見。</p>
<p>然後有一天，鄰居從他的車庫裡推出一輛自行車，車上裝有一種全新的變速器。原來，你的鄰居也在研究類似的裝置，但他得到了在自行車店工作的朋友的幫助。這時你終於忍不住了，向他展示了你的設計。然後鄰居指出你的設計中存在的一些簡單缺陷。如果早點和他溝通的話，這些問題在工作開始的第一週就可以獲得修正。</p>
<p>從這個例子我們可以發現，如果將想法秘而不宣，堅持等一切盡善盡美才公布，那麼你就是在進行一場代價高昂的賭博。在專案早期很容易出現基本的設計錯誤，你可能會重複設計已存在的東西，同時還放棄了合作的好處。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/12/03/忘掉你的英文文法吧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/03/忘掉你的英文文法吧/" class="post-title-link" itemprop="url">[英文] 忘掉英文文法吧！</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-12-03 15:18:00" itemprop="dateCreated datePublished" datetime="2017-12-03T15:18:00+08:00">2017-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>英文跟中文都是人類用來溝通的語言，只是他們的起源不同，說起來的方式也會跟著不同。</p>
<p>例如在傳統的英文教學裡，當你要學會底下這句話在表達什麼時，可能是這麼教的：</p>
<p><code>The man who is talking is my brother.</code>（<code>那個正在講話的人是我哥。</code>）</p>
<p>首先老師會跟你提到這兩個句子，</p>
<ol>
<li><code>The man is talking.</code>（<code>那個人正在講話</code>）</li>
<li><code>The man is my brother.</code>（<code>那個人是我哥</code>）</li>
</ol>
<p>然後跟你說有個叫「關係子句」的東西，它的用途是把一個完整的句子，放在另一句話中，當成形容詞用。</p>
<p>所以把第二句話變成形容詞合併到第一句就會變成 <code>The man who is talking is my brother.</code>。</p>
<p>其實根本就不用知道什麼叫關係子句，因為當我們看到 <code>The man who is talking is my brother.</code> 與它的中文翻譯<code>那個正在講話的人是我哥。</code>時，我們可以很直覺地先將英文翻成</p>
<p><code>那個人（正在講話）是我哥。</code></p>
<p>這句中文唸起來很奇怪，好像「正在講話」是要在心裡唸，嘴巴不能講出來的感覺。但一般人還是可以理解它的意思，只要再將順序換一下句子就會順暢</p>
<p><code>那個正在講話的人是我哥。</code></p>
<p>如此一來，我們頭腦裡就建立出英文對應到中文的規則，透過這種方式，我們可以利用推理來學會英文文法。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/12/03/Characteristics-of-Software-Quality/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/12/03/Characteristics-of-Software-Quality/" class="post-title-link" itemprop="url">External and Internal Software Quality Characteristics</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-12-03 10:23:00" itemprop="dateCreated datePublished" datetime="2017-12-03T10:23:00+08:00">2017-12-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>The following contents are extracted and modified from <a href="https://www.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670" target="_blank" rel="noopener">Code Complete: A Practical Handbook of Software Construction, Second Edition</a>. This is one of the chapters that impressed me. So I think I should write it down on my blog.</p>
<p>Software quality has both external and internal characteristics. External characteristics are characteristics that a user of the product is aware of, including the following:</p>
<h6 id="Correctness"><a href="#Correctness" class="headerlink" title="Correctness"></a>Correctness</h6><pre><code>The degree to which a system is free from faults in its specification, design, and implementation.
</code></pre><h6 id="Usability"><a href="#Usability" class="headerlink" title="Usability"></a>Usability</h6><pre><code>The ease with which users can learn and use a system.
</code></pre><h6 id="Efficiency"><a href="#Efficiency" class="headerlink" title="Efficiency"></a>Efficiency</h6><pre><code>Minimal use of system resources, including memory, CPU usage, and execution time.
</code></pre><h6 id="Reliability"><a href="#Reliability" class="headerlink" title="Reliability"></a>Reliability</h6><pre><code>The ability of a system to perform its required functions under stated conditions whenever required-having a long mean time between failures.
</code></pre><h6 id="Integrity"><a href="#Integrity" class="headerlink" title="Integrity"></a>Integrity</h6><pre><code>The degree to which a system prevents unauthorized or improper access to its programs and its data.
</code></pre><h6 id="Adaptability"><a href="#Adaptability" class="headerlink" title="Adaptability"></a>Adaptability</h6><pre><code>The extent to which a system can be used, without modification, in applications or environments other than those for which it was specifically designed.
</code></pre><h6 id="Accuracy"><a href="#Accuracy" class="headerlink" title="Accuracy"></a>Accuracy</h6><pre><code>The degree to which a system is free from error, especially with respect to quantitative outputs. For example, if a calculator program on your computer says that 1 + 1 = 3, then the accuracy of the program is bad.

The difference between accuracy and correctness is that accuracy is a determination of how well a system does the job it&apos;s built for rather than whether it was built correctly.
</code></pre><h6 id="Robustness"><a href="#Robustness" class="headerlink" title="Robustness"></a>Robustness</h6><pre><code>The degree to which a system continues to function in the pressence of invalid inputs or stressful environmental conditions.
</code></pre><p>Internal characteristics are characteristics that only the programmers of the product can be aware of, including</p>
<h6 id="Maintainability"><a href="#Maintainability" class="headerlink" title="Maintainability"></a>Maintainability</h6><pre><code>The ease with which you can modify a software system to change or add features, improve performance, or correct defects.
</code></pre><h6 id="Flexibility"><a href="#Flexibility" class="headerlink" title="Flexibility"></a>Flexibility</h6><pre><code>The extent to which you can modify a system for uses or environments other than those for which it was specifically designed.
</code></pre><h6 id="Portability"><a href="#Portability" class="headerlink" title="Portability"></a>Portability</h6><pre><code>The ease with which you can modify a system to operate in an environment different from that for which it was specifically designed. For example, if you find that it&apos;s easy to modify a program which was designed to run specifically on windows system to run on linux system, then portability of them program is good.
</code></pre><h6 id="Reusability"><a href="#Reusability" class="headerlink" title="Reusability"></a>Reusability</h6><pre><code>The extent to which and the ease with which you can use parts of a system in other systems.
</code></pre><h6 id="Readability"><a href="#Readability" class="headerlink" title="Readability"></a>Readability</h6><pre><code>The ease with which you can read and understand the source code of a system.
</code></pre><h6 id="Testability"><a href="#Testability" class="headerlink" title="Testability"></a>Testability</h6><pre><code>The degree to which you can unit-test and system-test a system; the degree to which you can verify that the system meets its requirements.
</code></pre><h6 id="Understandability"><a href="#Understandability" class="headerlink" title="Understandability"></a>Understandability</h6><pre><code>The ease with which you can comprehend a system at both the system-organizational and detailed-statement levels. Understandability has to do the coherence of the system at a more general level than readability does.
</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/11/11/excel-比對資料/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/11/11/excel-比對資料/" class="post-title-link" itemprop="url">[Google 試算表] 如何找出重複資料</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-11-11 21:27:00" itemprop="dateCreated datePublished" datetime="2017-11-11T21:27:00+08:00">2017-11-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Google 試算表是款相當方便的工具，其中有一項的功能就是比對兩筆資料的交集。</p>
<p>假設有 A 與 B 兩筆資料</p>
<p><img src="/images/excel/A_B_columns.png" alt="A and B Columns" style="width: 330px; "></p>
<p>用以下方法可以找出兩欄重複的英文字母:</p>
<p>首先在第 3 欄輸入 <a href="https://support.google.com/docs/answer/3093480?hl=zh-Hant" target="_blank" rel="noopener"><code>=COUNTIF</code></a><br>，這是試算表內建的函式，用它能夠知道指定範圍內含有的資料筆數。</p>
<p>例如 <code>COUNTIF(A:A,B2)</code> 會回傳 A 欄裡有多少 B2 格子內的值</p>
<p>由於 B2 的值是 <code>b</code>，而且 A 欄裡只有 1 個 <code>b</code>，所以得到 1。</p>
<p><img src="/images/excel/countif_values.png" alt="A and B Columns" style="width: 390px; "></p>
<p>接下來在 C3 ~ C8 都套用這個函式:</p>
<p>對著 C2 格子的右下角按按滑鼠左鍵不放，然後往下拖到 C8 位置，這樣就可以讓 C3 ~ C8 都套用 <code>COUNTIF(A:A,BX)</code> 函式。</p>
<p><img src="/images/excel/drag_and_drop.gif" alt="A and B Columns Drag and Drop" style="width: 390px; "></p>
<p>執行後會發現 B 欄內 <code>b</code>、<code>g</code>、<code>f</code> 三筆資料都回傳 1，其它資料回傳 0，這表示 <code>b</code>、<code>g</code>、<code>f</code> 是 A、B 兩欄交集的資料。</p>
<p>接下來的問題是如何將交集資料（<code>b</code>、<code>g</code>、<code>f</code>）集中在一起。這三筆資料分散在 B 欄的不同列裡面，資料少的時候還可以一筆一筆手動把它們挑出來，如果今天交集的資料有上百筆的話，一筆一筆的挑出肯定會花費不少時間，所以必須要有方法能快速整理出交集的資料。</p>
<p>這邊會利用排序功能將交集資料排在一起：</p>
<p><img src="/images/excel/sort.png" alt="Sort" style="width: 350px; "></p>
<p>排序後可以發現 <code>b</code>、<code>g</code>、<code>f</code> 被集中在一起。</p>
<p><img src="/images/excel/intersection.png" alt="Sort" style="width: 390px; "></p>
<p>這樣我們就順利地將 A 欄與 B 欄共同擁有的資料整理出來了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/05/01/Installing-nginx-from-source-on-Ubuntu-14-04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/05/01/Installing-nginx-from-source-on-Ubuntu-14-04/" class="post-title-link" itemprop="url">Installing nginx from source on Ubuntu 14.04</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-05-01 15:57:00" itemprop="dateCreated datePublished" datetime="2017-05-01T15:57:00+08:00">2017-05-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>These installation steps are just for my reference. Visit <a href="https://www.nginx.com/resources/admin-guide/installing-nginx-open-source/" target="_blank" rel="noopener">INSTALLING NGINX OPEN SOURCE</a> if you need a more detailed installation guide.</p>
<pre><code>sudo apt-get update
sudo apt-get install build-essential
</code></pre><p>Next, go to <a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/#source-releases" target="_blank" rel="noopener">nginx source releases</a> and find the download link.<br>In my case it is <code>http://nginx.org/download/nginx-1.10.1.tar.gz?_ga=1.4610931.1556411009.1493370198</code>. Download it with <code>wget</code>:</p>
<pre><code>wget http://nginx.org/download/nginx-1.10.1.tar.gz?_ga=1.4610931.1556411009.1493370198
</code></pre><p>Extract the downloaded file:</p>
<pre><code>tar -zxvf nginx-1.10.1.tar.gz?_ga=1.4610931.1556411009.1493370198
</code></pre><p> Switch to nginx’s directory.</p>
<pre><code>cd nginx-1.10.1/
</code></pre><p>Install libraries for nginx:</p>
<pre><code>sudo apt-get install libpcre3 libpcre3-dev libpcrecpp0 libssl-dev zlib1g-dev
</code></pre><p>The <a href="http://pcre.org/" target="_blank" rel="noopener">PCRE</a> (libpcre3, libpcre3-dev, and libpcrecpp0 ) library provides support for regular expression.</p>
<p>The <a href="http://www.zlib.net/" target="_blank" rel="noopener">zlib</a> library is used for headers compression.</p>
<p>The <a href="https://www.openssl.org/" target="_blank" rel="noopener">OpenSSL</a> library is used for supporting HTTPS protocol.</p>
<p>Configure the modules you want to install with <a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/installoptions/" target="_blank" rel="noopener">Installation and Compile-Time Options</a></p>
<pre><code>./configure --sbin-path=/usr/bin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --with-debug --with-pcre --with-http_ssl_module 
make
sudo make install
</code></pre><p>For installing nginx as a service, I use initScript from <a href="https://raw.githubusercontent.com/JasonGiedymin/nginx-init-ubuntu/master/nginx" target="_blank" rel="noopener">https://raw.githubusercontent.com/JasonGiedymin/nginx-init-ubuntu/master/nginx</a></p>
<pre><code>wget https://raw.githubusercontent.com/JasonGiedymin/nginx-init-ubuntu/master/nginx
mv nginx /etc/init.d/nginx
chmod +x nginx
update-rc.d -f nginx defaults
</code></pre><p>If I exeucte <code>service nginx status</code> now, I would get <code>/etc/init.d/nginx: You don&#39;t have permissions to execute nginx.</code>. </p>
<p>This is because I made some custom configurations when installing nginx. </p>
<p>According to the <a href="https://github.com/JasonGiedymin/nginx-init-ubuntu" target="_blank" rel="noopener">Advanced Configuration</a>, I should edit <code>DAEMON</code> and <code>NGINX_CONF_FILE</code> in <code>/etc/default/nginx</code></p>
<pre><code>echo &quot;NGINX_CONF_FILE=/etc/nginx/nginx.conf&quot; &gt; /etc/default/nginx
echo &quot;DAEMON=/usr/bin/nginx&quot; &gt;&gt; /etc/default/nginx
</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/04/30/Jenkins-Plugin-從無到有/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/30/Jenkins-Plugin-從無到有/" class="post-title-link" itemprop="url">Jenkins Plugin 從無到有</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-04-30 14:01:00" itemprop="dateCreated datePublished" datetime="2017-04-30T14:01:00+08:00">2017-04-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前陣子自己寫了個 <a href="https://jenkins.io/" target="_blank" rel="noopener">Jenkins</a> 套件 <a href="https://wiki.jenkins-ci.org/display/JENKINS/Display+Console+Output+Plugin" target="_blank" rel="noopener">Display Console Output Plugin</a>，會開發這東西主要是因為希望 console output 可以直接顯示在 project 頁面上，這樣可以比較快看到 build 結果。</p>
<p>像這樣：<br><img src="/images/jenkins/display_console_output.png" alt="stack heap" style="width: 730px; "></p>
<p>無奈使終找不到有這種功能的 plugin，<a href="http://stackoverflow.com/questions/9496888/jenkins-display-last-console-output-on-project-page/43169372" target="_blank" rel="noopener">stackoverflow</a> 有人提到其它方式讓你比較快可以看到 console output，不過還是覺得不太方便。</p>
<p>於是我就想到自己動手開發 plugin：</p>
<p>先是安裝 <a href="https://wiki.jenkins-ci.org/display/JENKINS/Plugin+tutorial" target="_blank" rel="noopener">plugin tutorial</a> 提到的工具，然後再建個 hello world plugin。</p>
<p>等到對 plugin 長什麼樣比較有概念後，再來想到的問題是怎麼在 project 頁面加視窗。我想說 Jenkins Plugin 已經有一千多個，總該可以找到現成的範例才對，於是便到 Plugin Manager 搜尋 <code>console</code> 關鍵字，看看有沒有 plugin 會把資訊顯示在 project 頁面。</p>
<p><img src="/images/jenkins/search_console.png" alt="stack heap" style="width: 730px; "></p>
<p>最後發現 <code>Console Tail Plugin</code> 跟我想要實現的功能非常接近。</p>
<p><img src="/images/jenkins/console_tail.png" alt="stack heap" style="width: 730px; "></p>
<p>打開 <a href="https://github.com/jenkinsci/console-tail-plugin" target="_blank" rel="noopener">source code</a> 發現它顯示資訊的頁面叫 <code>floatingBox.jelly</code>，根據這個線索我又 google 到 <a href="http://javadoc.jenkins-ci.org/hudson/model/Action.html" target="_blank" rel="noopener">Action</a>，Action 的頁面提到 <code>If an action has a view named floatingBox.jelly, it will be displayed as a floating box on the top page of the target ModelObject.</code>，於是就確定 Action + floatingBox 可以在某個頁面上顯示浮動視窗。</p>
<p><code>Console Tail Plugin</code> 只有在 build 失敗時會顯示資訊，照理說我只要做些修改就可以變成我想要的功能。於是我便動手改改看，之後看到 <a href="https://github.com/jenkinsci/console-tail-plugin/blob/master/src/main/java/jenkins/plugins/consoletail/ConsoleTailProjectAction.java" target="_blank" rel="noopener">ConsoleTailProjectAction.java</a> 裡唯一跟 build 結果有關的只有這段</p>
<pre><code>return Result.UNSTABLE.isBetterOrEqualTo(build.getResult()) ? build : null;
</code></pre><p>這段意思看起來是如果 <code>UNSTABLE</code> 這個 build 結果比最近一次 build 結果要好的話，就回傳 build ，否則回傳 <code>null</code>，於是我把這行改成 <code>return build;</code> 試試看，結果真的順利顯示最後一次 build 結果到 project 頁面上。</p>
<p>到這邊我發現我已做出當初想要的功能，不過我也知道 code 還有很多地方還沒深入了解，感覺這是個會有很多 bug 的產品，而且 console tail plugin 有些程式碼是我不需要的，這個 plugin 也無法即時顯示正在進行的 build，看來還需要改。</p>
<p>在 Jenkins 的 <a href="https://github.com/jenkinsci/jenkins/blob/master/core/src/main/resources/hudson/model/Run/console.jelly#L52-#L68" target="_blank" rel="noopener">source code</a> 裡有找到即時顯示 console output 的方式，看來這段 code 也可以參考。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/03/25/java-stack-and-heap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/25/java-stack-and-heap/" class="post-title-link" itemprop="url">[java] Memory 管理</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-03-25 21:16:00" itemprop="dateCreated datePublished" datetime="2017-03-25T21:16:00+08:00">2017-03-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Java 的 Memory 主要分成 stack 及 heap 兩部份，每個 thread 都有各自對應的 stack，stack 是個 first in last out 的資料結構。每當一個 code block 結束時，他 stack 內的 variable 就會因被 pop 出來而消失；heap 的空間則由所有 thread 共享。</p>
<p>Java 的所有 Objects 都存放在 heap 內，<code>int</code>, <code>double</code>, <code>float</code> 等 <a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html" target="_blank" rel="noopener">primitive type</a> 的local variables 則存在 stack 裡。</p>
<p>當你宣告<code>String s = &quot;Hello;&quot;</code>時，stack 內會產生一個指向<code>&quot;Hello&quot;</code>物件且名稱是<code>s</code>的參數。</p>
<p>圖一<br><img src="/images/java/stack_heap.png" alt="stack heap" style="width: 330px; "></p>
<p>garbage collection 會釋放 heap 內所有無法從 stack 指向的物件。例如有段程式碼長這樣：</p>
<pre><code>String s = &quot;Hello&quot;;
s = &quot;world&quot;;
</code></pre><p>當執行到第 1 行時，stack 跟 heap 的狀態會像圖一那樣。執行第 2 行會導致 <code>&quot;Hello&quot;</code> 無法從 stack 內任何參數 reference 到，所以 <code>&quot;Hello&quot;</code> 在 garbage collection 後會被清掉。</p>
<p>圖二<br><img src="/images/java/garbage_collection.png" alt="stack heap" style="width: 330px; "></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://lyenliang.github.io/2017/03/16/jenkins-Sharing-files-between-jenkins-master-and-slave/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lyenliang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Brian's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/16/jenkins-Sharing-files-between-jenkins-master-and-slave/" class="post-title-link" itemprop="url">[jenkins] Sharing files between jenkins master and slave nodes</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2017-03-16 20:37:00" itemprop="dateCreated datePublished" datetime="2017-03-16T20:37:00+08:00">2017-03-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2022-06-17 10:30:04" itemprop="dateModified" datetime="2022-06-17T10:30:04+08:00">2022-06-17</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Sometimes you may want to share files between your jenkins master and slave nodes. </p>
<p>For example, maybe I have a powershell script, <code>test.ps1</code>, which contains some frequently called functions.</p>
<pre><code># test.ps1

function foo {
  echo &quot;bar&quot;
}
</code></pre><p>One way to share this file is save it at master, and copy it to slave node before it is called by slave node. This would require many jenkins configurations. </p>
<p>Recently I found that this can be easily done with <a href="https://wiki.jenkins-ci.org/display/JENKINS/Config+File+Provider+Plugin" target="_blank" rel="noopener">Config File Provider Plugin</a>.</p>
<p>First you need to install the plugin. After it is installed, you can find <code>Managed files</code> at <code>http://JENKINS_URL/manage</code>. Click it.</p>
<p><img src="/images/jenkins/Managed_files.png" alt="Managed files" style="width: 630px; "></p>
<p>Then define your shared file by clicking <code>Add a new Config</code> -&gt; <code>Custom file</code></p>
<p><img src="/images/jenkins/Add_a_new_Config.png" alt="Add a new Config" style="width: 630px; "></p>
<p><img src="/images/jenkins/custom_file.png" alt="Custom file" style="width: 630px; "></p>
<p>Now you are going to define the name and content of the shared file.</p>
<p><img src="/images/jenkins/content.png" alt="Custom file" style="width: 630px; "></p>
<p>Now the file is ready to be used by your jenkins projects. </p>
<p>Inside your project, you can find a <code>Provide Configuration files</code> option. Check it.</p>
<p><img src="/images/jenkins/Provide_Configuration_files.png" alt="Custom file" style="width: 630px; "></p>
<p>Let’s take a look at the options here. <em>File</em> means the shared file you just defined.</p>
<p>Jenkins will create the <em>File</em> at the folder specified by <em>Target</em> (In my case, I specify the folder to be the workspace of my project). </p>
<p>Remember to make sure that the folder exists before building the project.</p>
<p><em>Variable</em> represents an environment variable with which you can refer to the file.</p>
<p>Now you can import this file no matter whether you are at master or slave node.</p>
<p><img src="/images/jenkins/Build.png" alt="Import Excute" style="width: 630px; "></p>
<p><code>. $env:util</code> imports the file. This makes powershell recognize <code>foo</code> command.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一頁"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lyenliang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">26</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">標籤</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lyenliang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  















  

  

</body>
</html>
